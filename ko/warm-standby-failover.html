<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>27.3. 장애 조치</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="warm-standby.html" title="27.2. Log-Shipping Standby Servers" /><link rel="next" href="hot-standby.html" title="27.4. Hot Standby" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">27.3. 장애 조치</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="warm-standby.html" title="27.2. Log-Shipping Standby Servers">이전</a> </td><td width="10%" align="left"><a accesskey="u" href="high-availability.html" title="Chapter 27. High Availability, Load Balancing, and Replication">Up</a></td><th width="60%" align="center">27장. 고가용성, 로드 밸런싱 및 복제</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="10%" align="right"> <a accesskey="n" href="hot-standby.html" title="27.4. Hot Standby">다음</a></td></tr></table><hr /></div><div class="sect1" id="WARM-STANDBY-FAILOVER"><div class="titlepage"><div><div><h2 class="title" style="clear: both">27.3. 페일오버 <a href="#WARM-STANDBY-FAILOVER" class="id_link">#</a></h2></div></div></div><p>
    기본 서버에 장애가 발생하면 대기 서버가 장애 조치 절차를 시작해야 합니다.   </p><p>
    대기 서버에 장애가 발생하면 페일오버를 수행할 필요가 없습니다. 대기 서버를 잠시 후라도 재시작할 수 있는 경우 재시작 가능한 복구를 활용하여 복구 프로세스를 즉시 재시작할 수도 있습니다. 대기 서버를 다시 시작할 수 없는 경우에는 완전히 새로운 대기 서버 인스턴스를 만들어야 합니다.   </p><p>
    기본 서버에 장애가 발생하여 대기 서버가 새 기본 서버가 된 다음 이전 기본 서버가 다시 시작되는 경우 이전 기본 서버가 더 이상 기본 서버가 아님을 알리는 메커니즘이 있어야 합니다. 이를 <acronym class="acronym">스토니스라고도</acronym> 하는데, 두 시스템이 서로를 기본 노드라고 생각하여 혼란을 야기하고 결국 데이터 손실로 이어지는 상황을 피하기 위해 필요합니다.   </p><p>
    많은 장애 조치 시스템은 일종의 하트비트 메커니즘으로 연결된 두 개의 시스템, 즉 기본 시스템과 대기 시스템만 사용하여 두 시스템 간의 연결과 기본 시스템의 생존 가능성을 지속적으로 확인합니다. 부적절한 장애 조치 사례를 방지하기 위해 세 번째 시스템(감시 서버라고 함)을 사용할 수도 있지만, 충분한 주의와 엄격한 테스트를 통해 설정하지 않으면 추가적인 복잡성을 감수할 가치가 없을 수 있습니다.   </p><p>
   <span class="productname">PostgreSQL은</span> 기본 서버에서 장애를 식별하고 대기 데이터베이스 서버에 알리는 데 필요한 시스템 소프트웨어를 제공하지 않습니다.  이러한 도구는 많이 존재하며 IP 주소 마이그레이션과 같은 성공적인 장애 조치에 필요한 운영 체제 기능과 잘 통합되어 있습니다.   </p><p>
    대기 서버로 페일오버가 발생하면 하나의 서버만 작동합니다. 이를 퇴보 상태라고 하며, 이전 대기 서버가 이제 주 서버가 되지만 이전 주 서버가 다운되어 계속 다운된 상태로 유지될 수 있습니다.  정상 작동으로 돌아가려면 대기 서버가 가동될 때 이전 주 시스템 또는 제3의 새로운 시스템에서 대기 서버를 다시 생성해야 합니다. 대규모 클러스터에서는 이 프로세스의 속도를 높이기 위해 <a class="xref" href="app-pgrewind.html" title="pg_rewind"><span class="refentrytitle"><span class="application">pg_rewind</span></span></a> 유틸리티를 사용할 수 있습니다. 완료되면 주 서버와 대기 서버의 역할이 바뀐 것으로 간주할 수 있습니다. 어떤 사람들은 새 대기 서버가 다시 생성될 때까지 새 기본 서버에 백업을 제공하기 위해 세 번째 서버를 사용하기도 하지만, 이는 시스템 구성과 운영 프로세스를 복잡하게 만듭니다.   </p><p>
    따라서 기본 서버에서 대기 서버로 전환하는 것은 빠를 수 있지만 장애 조치 클러스터를 다시 준비하는 데 시간이 필요합니다. 기본 서버에서 대기 서버로 정기적으로 전환하면 유지보수를 위해 각 시스템을 정기적으로 다운타임할 수 있으므로 유용합니다. 또한 장애 조치 메커니즘을 테스트하여 필요할 때 실제로 작동하는지 확인하는 역할도 합니다. 관리 절차를 문서화하는 것이 좋습니다.   </p><p>
    로그 전송 대기 서버의 장애 조치를 트리거하려면 <code class="command">pg_ctl promote을</code> 실행하거나 <code class="function">pg_promote(</code>)를 호출합니다. 고가용성 목적이 아니라 기본 서버에서 읽기 전용 쿼리를 오프로드하는 데만 사용되는 보고 서버를 설정하는 경우, 승격할 필요가 없습니다.   </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="warm-standby.html" title="27.2. Log-Shipping Standby Servers">이전</a> </td><td width="20%" align="center"><a accesskey="u" href="high-availability.html" title="Chapter 27. High Availability, Load Balancing, and Replication">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="hot-standby.html" title="27.4. Hot Standby">다음</a></td></tr><tr><td width="40%" align="left" valign="top">27.2. 로그 전송 대기 서버 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="40%" align="right" valign="top"> 27.4. 핫 대기</td></tr></table></div></body></html>