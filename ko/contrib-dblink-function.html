<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>dblink</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="contrib-dblink-disconnect.html" title="dblink_disconnect" /><link rel="next" href="contrib-dblink-exec.html" title="dblink_exec" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">dblink</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="contrib-dblink-disconnect.html" title="dblink_disconnect">이전</a> </td><td width="10%" align="left"><a accesskey="u" href="dblink.html" title="F.12. dblink — connect to other PostgreSQL databases">Up</a></td><th width="60%" align="center">F.12. dblink - 다른 PostgreSQL 데이터베이스에 연결하기</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="10%" align="right"> <a accesskey="n" href="contrib-dblink-exec.html" title="dblink_exec">다음</a></td></tr></table><hr /></div><div class="refentry" id="CONTRIB-DBLINK-FUNCTION"><div class="titlepage"></div><a id="id-1.11.7.22.8.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle">dblink</span></h2><p>dblink - 원격 데이터베이스에서 쿼리 실행</p></div><div class="refsynopsisdiv"><h2>시놉시스</h2><pre class="synopsis">
dblink(text connname, text sql [, bool fail_on_error]) 반환 setof 레코드 dblink(text connstr, text sql [, bool fail_on_error]) 반환 setof 레코드 dblink(text sql [, bool fail_on_error]) 반환 setof 레코드</pre></div><div class="refsect1" id="id-1.11.7.22.8.5"><h2>설명</h2><p>
   <code class="function">dblink는</code> 원격 데이터베이스에서 쿼리(일반적으로 <code class="command">SELECT이지만</code> 행을 반환하는 모든 SQL 문이 될 수 있음)를 실행합니다.   </p><p>
    두 개의 <code class="type">텍스트</code> 인수가 주어지면 첫 번째 인수는 먼저 영구 연결의 이름으로 조회되며, 이 인수가 발견되면 해당 연결에서 명령이 실행됩니다.  찾을 수 없는 경우 첫 번째 인수는 <code class="function">dblink_connect와</code> 마찬가지로 연결 정보 문자열로 처리되며 이 명령이 실행되는 동안만 지정된 연결이 만들어집니다.   </p></div><div class="refsect1" id="id-1.11.7.22.8.6"><h2>인수</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>connname</code></em></span></dt><dd><p>
       사용할 연결의 이름입니다. 이름 없는 연결을 사용하려면 이 매개변수를 생략합니다.      </p></dd><dt><span class="term"><em class="parameter"><code>connstr</code></em></span></dt><dd><p>
       앞서 <code class="function">dblink_connect에</code> 대해 설명한 대로 연결 정보 문자열입니다.      </p></dd><dt><span class="term"><em class="parameter"><code>sql</code></em></span></dt><dd><p>
       원격 데이터베이스에서 실행하려는 SQL 쿼리(예: <code class="literal">foo에서 * 선택</code>)입니다.      </p></dd><dt><span class="term"><em class="parameter"><code>fail_on_error</code></em></span></dt><dd><p>
       참이면(생략 시 기본값) 연결의 원격 측에서 오류가 발생하면 로컬에서도 오류가 발생합니다. false이면 원격 오류가 로컬에서 NOTICE로 보고되고 함수는 행을 반환하지 않습니다.      </p></dd></dl></div></div><div class="refsect1" id="id-1.11.7.22.8.7"><h2>반환 값</h2><p>
    이 함수는 쿼리에서 생성된 행을 반환합니다. <code class="function">dblink는</code> 모든 쿼리에 사용할 수 있으므로 특정 열 집합을 지정하지 않고 <code class="type">레코드를</code> 반환하도록 선언되어 있습니다.  즉, 호출 쿼리에서 예상되는 열 집합을 지정해야 하며, 그렇지 않으면 <span class="productname">PostgreSQL이</span> 무엇을 예상해야 하는지 알 수 없습니다. 다음은 예제입니다:</p><pre class="programlisting">
SELECT * FROM dblink('dbname=mydb options=-csearch_path=', 'select proname, prosrc from pg_proc') AS t1(proname name, prosrc text) WHERE proname LIKE 'bytea%';</pre><p>

   <code class="literal">FROM</code> 절의 <span class="quote">"<span class="quote">별칭</span>"</span> 부분에는 함수가 반환할 열 이름과 유형을 지정해야 합니다. (별칭으로 열 이름을 지정하는 것은 실제로 표준 SQL 구문이지만 열 유형을 지정하는 것은 <span class="productname">PostgreSQL</span>확장입니다).  이렇게 하면 시스템에서 함수를 실행하기 전에 <code class="literal">*가</code> 확장되어야 하는 대상과 <code class="literal">WHERE</code> 절의 <code class="structname">대명사가</code>무엇을 가리키는지 미리 파악할 수 있습니다.  실행 시 원격 데이터베이스의 실제 쿼리 결과와 <code class="literal">FROM</code> 절에 표시된 열 수가 같지 않으면 오류가 발생합니다. 그러나 열 이름이 일치할 필요는 없으며 <code class="function">dblink는</code>정확한 유형 일치도 요구하지 않습니다.  반환된 데이터 문자열이 <code class="literal">FROM</code> 절에 선언된 열 유형에 대한 유효한 입력인 한 성공합니다.   </p></div><div class="refsect1" id="id-1.11.7.22.8.8"><h2>참고</h2><p>
    미리 지정된 쿼리에서 <code class="function">dblink를</code> 사용하는 편리한 방법은 뷰를 만드는 것입니다. 이렇게 하면 모든 쿼리에서 열 유형 정보를 설명할 필요 없이 뷰에 열 유형 정보가 묻힐 수 있습니다.  예를 들어</p><pre class="programlisting">
CREATE VIEW myremote_pg_proc AS SELECT * FROM dblink('dbname=postgres options=-csearch_path=', 'select proname, prosrc from pg_proc') AS t1(proname name, prosrc text); SELECT * FROM myremote_pg_proc WHERE proname LIKE 'bytea%';</pre></div><div class="refsect1" id="id-1.11.7.22.8.9"><h2>예제</h2><pre class="screen">
SELECT * FROM dblink('dbname=postgres options=-csearch_path=', 'select proname, prosrc from pg_proc') AS t1(proname name, prosrc text) WHERE proname LIKE 'bytea%';
  proname | prosrc ------------+------------
 byteacat | byteacat byteaeq | byteaeq bytealt | bytealt byteale | byteale byteagt | byteagt byteage | byteage byteane | byteane byteacmp | byteacmp bytealike | bytealike byteanlike | byteanlike byteain | byteain byteaout | byteaout (12 rows) SELECT dblink_connect('dbname=postgres options=-csearch_path=');
 dblink_connect ---------------- OK (1 row) SELECT * FROM dblink('select proname, prosrc from pg_proc') AS t1(proname name, prosrc text) WHERE proname LIKE 'bytea%';
  proname | prosrc ------------+------------ byteacat | byteacat byteaeq | byteaeq bytealt | bytealt byteale | byteale byteagt | byteagt byteage | byteage byteane | byteane byteacmp | byteacmp bytealike | bytealike byteanlike | byteanlike byteain | byteain byteaout | byteaout (12 rows) SELECT dblink_connect('myconn'), 'dbname=회귀 옵션=-csearch_path=');
 dblink_connect ---------------- OK (1 row) SELECT * FROM dblink('myconn', 'select proname, prosrc from pg_proc') AS t1(proname name, prosrc text) WHERE proname LIKE 'bytea%';
  proname | prosrc ------------+------------ bytearecv | bytearecv byteasend | byteasend byteale | byteale byteagt | byteagt byteage | byteage byteane | byteane byteacmp | byteacmp bytealike | bytealike byteanlike | byteanlike byteacat | byteacat byteaeq | byteaeq bytealt | bytealt byteain | byteain byteaout | byteaout (14 rows)</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="contrib-dblink-disconnect.html" title="dblink_disconnect">이전</a> </td><td width="20%" align="center"><a accesskey="u" href="dblink.html" title="F.12. dblink — connect to other PostgreSQL databases">위로</a></td><td width="40%" align="right"> <a accesskey="n" href="contrib-dblink-exec.html" title="dblink_exec">다음</a></td></tr><tr><td width="40%" align="left" valign="top">dblink_disconnect </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="40%" align="right" valign="top"> dblink_exec</td></tr></table></div></body></html>