<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>22.3. 역할 멤버십</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="role-attributes.html" title="22.2. Role Attributes" /><link rel="next" href="role-removal.html" title="22.4. Dropping Roles" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">22.3. 역할 멤버십</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="role-attributes.html" title="22.2. Role Attributes">이전</a> </td><td width="10%" align="left"><a accesskey="u" href="user-manag.html" title="Chapter 22. Database Roles">Up</a></td><th width="60%" align="center">22장. 데이터베이스 역할</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="10%" align="right"> <a accesskey="n" href="role-removal.html" title="22.4. Dropping Roles">다음</a></td></tr></table><hr /></div><div class="sect1" id="ROLE-MEMBERSHIP"><div class="titlepage"><div><div><h2 class="title" style="clear: both">22.3. 역할 멤버십 <a href="#ROLE-MEMBERSHIP" class="id_link"> 번호</a></h2></div></div></div><a id="id-1.6.9.7.2" class="indexterm"></a><p>
   권한을 쉽게 관리하기 위해 사용자를 그룹화하면 그룹 전체에 권한을 부여하거나 그룹에서 권한을 취소할 수 있어 편리할 때가 많습니다. <span class="productname">PostgreSQL에서는</span>그룹을 대표하는 역할을 만든 다음 개별 사용자 역할에 그룹 역할의 <em class="firstterm">멤버십을</em> 부여하는 방식으로 이 작업을 수행합니다.  </p><p>
   그룹 역할을 설정하려면 먼저 역할을 만듭니다:</p><pre class="synopsis">
역할 <em class="replaceable"><code>이름을</code></em> 만듭니다;</pre><p>
   일반적으로 그룹으로 사용되는 역할에는 <code class="literal">로그인</code>속성이 없지만 원하는 경우 <code class="literal">로그인</code>속성을 설정할 수 있습니다.  </p><p>
   그룹 역할이 만들어지면 <a class="link" href="sql-grant.html" title="GRANT"><code class="command">GRANT</code></a> 및 <a class="link" href="sql-revoke.html" title="REVOKE"><code class="command">REVOKE</code></a> 명령을 사용하여 구성원을 추가하고 제거할 수 있습니다:</p><pre class="synopsis">
GRANT <em class="replaceable"><code>group_role</code></em> TO <em class="replaceable"><code>role1</code></em>, ... ; REVOKE <em class="replaceable"><code>group_role</code></em> FROM <em class="replaceable"><code>role1</code></em>, ... ;</pre><p>
   다른 그룹 역할에도 멤버십을 부여할 수 있습니다(그룹 역할과 그룹이 아닌 역할을 구분하지 않으므로).  데이터베이스에서는 순환 멤버십 루프를 설정할 수 없습니다.  또한 <code class="literal">공개에게</code> 역할의 멤버십을 부여하는 것도 허용되지 않습니다.  </p><p>
   그룹 역할의 구성원은 두 가지 방법으로 역할의 권한을 사용할 수 있습니다.  첫째, <code class="literal">SET</code> 옵션으로 멤버십을 부여받은 멤버 역할은 <a class="link" href="sql-set-role.html" title="SET ROLE"><code class="command">SET ROLE을</code></a> 수행하여 일시적으로 그룹 역할이 <span class="quote">'<span class="quote">될</span>'</span> 수 있습니다.  이 상태에서는 데이터베이스 세션에서 원래 로그인 역할이 아닌 그룹 역할의 권한에 액세스할 수 있으며, 생성된 모든 데이터베이스 개체는 로그인 역할이 아닌 그룹 역할이 소유한 것으로 간주됩니다.  둘째, <code class="literal">상속</code> 옵션으로 멤버십이 부여된 멤버 역할은 자동으로 직간접적으로 멤버인 역할의 권한을 사용할 수 있지만, 상속 옵션이 없는 멤버십에서는 체인이 멈춥니다.  예를 들어 다음과 같이 한다고 가정해 보겠습니다:</p><pre class="programlisting">
CREATE ROLE joe LOGIN; CREATE ROLE admin; CREATE ROLE wheel; CREATE ROLE island; GRANT admin TO joe WITH INHERIT TRUE; GRANT wheel TO admin WITH INHERIT FALSE; GRANT island TO joe WITH INHERIT TRUE, SET FALSE;</pre><p>
  <code class="literal">joe</code> 역할로 연결한 직후 데이터베이스 세션은 <code class="literal">joe에게</code>직접 부여된 권한과 <code class="literal">관리자</code> 및 <code class="literal">섬에</code> 부여된 모든 권한을 사용할 수 있게 되는데, 이는 <code class="literal">joe가</code>해당 권한을 ' <span class="quote"><span class="quote">상속</span></span> '하기 때문입니다.  그러나 <code class="literal">joe가</code> 간접적으로 <code class="literal">휠의</code> 멤버이기는 하지만 멤버십은 <code class="literal">WITH INHERIT FALSE를</code> 사용하여 부여된 <code class="literal">관리자를</code> 통해 이루어지기 때문에 <code class="literal">휠에</code> 부여된 권한은 사용할 수 없습니다. After:</p><pre class="programlisting">
SET ROLE admin;</pre><p>
   세션은 <code class="literal">admin에게</code> 부여된 권한만 사용할 수 있고 <code class="literal">joe</code> 또는 <code class="literal">island에게</code> 부여된 권한은 사용할 수 없습니다.  After:</p><pre class="programlisting">
SET ROLE 휠;</pre><p>
   세션은 <code class="literal">휠에</code> 부여된 권한만 사용할 수 있고, <code class="literal">죠나</code> <code class="literal">관리자에게</code> 부여된 권한은 사용할 수 없습니다.  다음 중 하나를 사용하여 원래 권한 상태를 복원할 수 있습니다:</p><pre class="programlisting">
SET ROLE joe; SET ROLE NONE; RESET ROLE;</pre><p>
  </p><div class="note"><h3 class="title">참고</h3><p>
   <code class="command">SET ROLE</code> 명령을 사용하면 원래 로그인 역할이 직접 또는 간접적으로 구성원인 모든 역할을 선택할 수 있으며, 각 역할에 <code class="literal">SET TRUE</code> (기본값)가 있는 멤버십 부여 체인만 있으면 됩니다. 따라서 위의 예에서는 <code class="literal">휠이</code> 되기 전에 <code class="literal">관리자가</code> 될 필요가 없습니다. 반면에 <code class="literal">섬이</code>되는 것은 전혀 불가능하며 <code class="literal">joe는</code> 상속을 통해서만 해당 권한에 액세스할 수 있습니다.   </p></div><div class="note"><h3 class="title">참고</h3><p>
    SQL 표준에서는 사용자와 역할을 명확하게 구분하고 있으며, 사용자는 자동으로 권한을 상속하지 않는 반면 역할은 상속합니다.  이 동작은 SQL 역할로 사용되는 역할에 <code class="literal">INHERIT</code> 속성을 부여하고 SQL 사용자로 사용되는 역할에 <code class="literal">NOINHERIT</code> 속성을 부여하여 얻을 수 있습니다. 그러나 사용자가 항상 자신이 속한 그룹에 부여된 권한을 사용했던 8.1 이전 릴리스와의 하위 호환성을 위해 <span class="productname">PostgreSQL은</span> 기본적으로 모든 역할에 <code class="literal">INHERIT</code> 속성을 부여하도록 설정되어 있습니다.   </p></div><p>
   역할 속성인 <code class="literal">LOGIN</code>, <code class="literal">SUPERUSER</code>, <code class="literal">CREATEDB</code> 및 <code class="literal">CREATEROLE은</code> 특수 권한으로 생각할 수 있지만 데이터베이스 개체에 대한 일반 권한처럼 상속되지 않습니다.  실제로 해당 속성을 사용하려면 이러한 속성 중 하나를 가진 특정 역할로 <code class="command">ROLE을 설정해야</code> 합니다.  위의 예제를 계속 이어서 <code class="literal">관리자</code> 역할에 <code class="literal">CREATEDB</code> 및 <code class="literal">CREATEROLE을</code> 부여할 수 있습니다.  그러면 역할 <code class="literal">joe로</code>접속하는 세션은 이러한 권한을 즉시 갖지 못하고 <code class="command">SET ROLE admin을</code> 수행한 후에야 이러한 권한을 갖게 됩니다.  </p><p>
  </p><p>
   그룹 역할을 삭제하려면 <a class="link" href="sql-droprole.html" title="DROP ROLE"><code class="command">DROP ROLE을</code></a> 사용합니다:</p><pre class="synopsis">
역할 <em class="replaceable"><code>이름</code></em> 삭제;</pre><p>
   그룹 역할의 모든 멤버십은 자동으로 해지됩니다(단, 구성원 역할은 영향을 받지 않음).  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="role-attributes.html" title="22.2. Role Attributes">이전</a> </td><td width="20%" align="center"><a accesskey="u" href="user-manag.html" title="Chapter 22. Database Roles">위로</a></td><td width="40%" align="right"> <a accesskey="n" href="role-removal.html" title="22.4. Dropping Roles">다음</a></td></tr><tr><td width="40%" align="left" valign="top">22.2. 역할 속성 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="40%" align="right" valign="top"> 22.4. 역할 삭제하기</td></tr></table></div></body></html>