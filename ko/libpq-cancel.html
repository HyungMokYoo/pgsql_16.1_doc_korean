<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>34.7. 진행 중인 쿼리 취소하기</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="libpq-single-row-mode.html" title="34.6. Retrieving Query Results Row-by-Row" /><link rel="next" href="libpq-fastpath.html" title="34.8. The Fast-Path Interface" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">34.7. 진행 중인 쿼리 취소하기</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="libpq-single-row-mode.html" title="34.6. Retrieving Query Results Row-by-Row">이전</a> </td><td width="10%" align="left"><a accesskey="u" href="libpq.html" title="Chapter 34. libpq — C Library">Up</a></td><th width="60%" align="center">34장. <span class="application">libpq</span> - C 라이브러리</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="10%" align="right"> <a accesskey="n" href="libpq-fastpath.html" title="34.8. The Fast-Path Interface">다음</a></td></tr></table><hr /></div><div class="sect1" id="LIBPQ-CANCEL"><div class="titlepage"><div><div><h2 class="title" style="clear: both">34.7. 진행 중인 쿼리 취소하기 <a href="#LIBPQ-CANCEL" class="id_link">#</a>.</h2></div></div></div><a id="id-1.7.3.14.2" class="indexterm"></a><p>
   클라이언트 애플리케이션은 이 섹션에서 설명하는 함수를 사용하여 서버에서 처리 중인 명령의 취소를 요청할 수 있습니다.   </p><div class="variablelist"><dl class="variablelist"><dt id="LIBPQ-PQGETCANCEL"><span class="term"><code class="function">PQgetCancel</code><a id="id-1.7.3.14.3.1.1.1.2" class="indexterm"></a></span> <a href="#LIBPQ-PQGETCANCEL" class="id_link">#</a></dt><dd><p>
       특정 데이터베이스 연결을 통해 실행된 명령을 취소하는 데 필요한 정보가 포함된 데이터 구조를 생성합니다.</p><pre class="synopsis">
PGcancel *PQgetCancel(PGconn *conn);</pre><p>
      </p><p>
      <a class="xref" href="libpq-cancel.html#LIBPQ-PQGETCANCEL"><code class="function">PQgetCancel은</code></a> <code class="structname">PGconn</code> 연결 객체가 주어지면 <code class="structname">PGcancel</code><a id="id-1.7.3.14.3.1.1.2.2.3" class="indexterm"></a> 객체를 생성합니다.  주어진 <em class="parameter"><code>연결이</code></em> <code class="symbol">NULL이거나</code> 유효하지 않은 연결인 경우 <code class="symbol">NULL을</code> 반환합니다. <code class="structname">PGcancel</code> 객체는 애플리케이션에서 직접 액세스할 수 없는 불투명한 구조이므로 <a class="xref" href="libpq-cancel.html#LIBPQ-PQCANCEL"><code class="function">PQcancel</code></a>또는 <a class="xref" href="libpq-cancel.html#LIBPQ-PQFREECANCEL"><code class="function">PQfreeCancel로만</code></a> 전달할 수 있습니다.      </p></dd><dt id="LIBPQ-PQFREECANCEL"><span class="term"><code class="function">PQfreeCancel</code><a id="id-1.7.3.14.3.1.2.1.2" class="indexterm"></a></span> <a href="#LIBPQ-PQFREECANCEL" class="id_link">#</a></dt><dd><p>
      <a class="xref" href="libpq-cancel.html#LIBPQ-PQGETCANCEL"><code class="function">PQgetCancel에</code></a> 의해 생성된 데이터 구조를 해제합니다.</p><pre class="synopsis">
void PQfreeCancel(PGcancel *cancel);</pre><p>
      </p><p>
      <a class="xref" href="libpq-cancel.html#LIBPQ-PQFREECANCEL"><code class="function">PQfreeCancel은</code></a> 이전에 <a class="xref" href="libpq-cancel.html#LIBPQ-PQGETCANCEL"><code class="function">PQgetCancel에</code></a> 의해 생성된 데이터 객체를 해제합니다.      </p></dd><dt id="LIBPQ-PQCANCEL"><span class="term"><code class="function">PQcancel</code><a id="id-1.7.3.14.3.1.3.1.2" class="indexterm"></a></span> <a href="#LIBPQ-PQCANCEL" class="id_link">#</a></dt><dd><p>
       서버가 현재 명령의 처리를 포기하도록 요청합니다.</p><pre class="synopsis">
int PQcancel(PGcancel *cancel, char *errbuf, int errbufsize);</pre><p>
      </p><p>
       취소 요청이 성공적으로 발송되면 반환값은 1이고, 그렇지 않으면 0입니다.  그렇지 않은 경우 <em class="parameter"><code>errbuf는</code></em> 설명 오류 메시지로 채워집니다. <em class="parameter"><code>errbuf는</code></em> <em class="parameter"><code>errbufsize</code></em> 크기의 문자 배열이어야 합니다(권장 크기는 256바이트입니다).      </p><p>
       그러나 요청이 성공적으로 발송되었다고 해서 요청이 효력을 발생한다는 보장은 없습니다.  취소가 유효하면 현재 명령이 조기에 종료되고 오류 결과를 반환합니다.  취소가 실패하면(예: 서버가 이미 명령 처리를 완료했기 때문에) 눈에 보이는 결과가 전혀 표시되지 않습니다.      </p><p>
      <em class="parameter"><code>errbuf가</code></em> 시그널 핸들러의 로컬 변수인 경우 시그널 핸들러에서 <a class="xref" href="libpq-cancel.html#LIBPQ-PQCANCEL"><code class="function">PQcancel을</code></a> 안전하게 호출할 수 있습니다. <a class="xref" href="libpq-cancel.html#LIBPQ-PQCANCEL"><code class="function">PQcancel</code></a> 객체는 읽기 전용이므로 <code class="structname">PGconn</code> 객체를 조작하는 스레드와는 별개의 스레드에서도 호출할 수 있습니다.      </p></dd></dl></div><p>

   </p><div class="variablelist"><dl class="variablelist"><dt id="LIBPQ-PQREQUESTCANCEL"><span class="term"><code class="function">PQrequestCancel</code><a id="id-1.7.3.14.3.2.1.1.2" class="indexterm"></a></span> <a href="#LIBPQ-PQREQUESTCANCEL" class="id_link">#</a>.</dt><dd><p>
      <a class="xref" href="libpq-cancel.html#LIBPQ-PQREQUESTCANCEL"><code class="function">PQrequestCancel은</code></a> 더 이상 사용되지 않는 <a class="xref" href="libpq-cancel.html#LIBPQ-PQCANCEL"><code class="function">PQcancel의</code></a> 변형입니다.</p><pre class="synopsis">
int PQrequestCancel(PGconn *conn);</pre><p>
      </p><p>
       서버가 현재 명령의 처리를 포기하도록 요청합니다. <code class="structname">PGconn</code> 객체에서 직접 작동하며, 실패 시 <code class="structname">PGconn</code> 객체에 오류 메시지를 저장합니다( <a class="xref" href="libpq-status.html#LIBPQ-PQERRORMESSAGE"><code class="function">PQerrorMessage로</code></a> 검색할 수 있는 경우).  기능은 동일하지만 이 접근 방식은 다중 스레드 프로그램이나 신호 처리기 내에서 안전하지 않습니다. <code class="structname">PGconn의</code> 오류 메시지를 덮어쓰면 연결에서 현재 진행 중인 작업이 엉망이 될 수 있기 때문입니다.      </p></dd></dl></div><p>
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="libpq-single-row-mode.html" title="34.6. Retrieving Query Results Row-by-Row">이전</a> </td><td width="20%" align="center"><a accesskey="u" href="libpq.html" title="Chapter 34. libpq — C Library">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="libpq-fastpath.html" title="34.8. The Fast-Path Interface">다음</a></td></tr><tr><td width="40%" align="left" valign="top">34.6. 쿼리 결과 행 단위로 검색하기 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 16.2 Documentation">홈</a></td><td width="40%" align="right" valign="top"> 34.8. 빠른 경로 인터페이스</td></tr></table></div></body></html>